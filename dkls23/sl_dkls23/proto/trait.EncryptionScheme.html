<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Represents an encryption scheme interface for in-place AEAD and managing key exchange."><title>EncryptionScheme in sl_dkls23::proto - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../../static.files/rustdoc-46132b98.css"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="sl_dkls23" data-themes="" data-resource-suffix="" data-rustdoc-version="1.85.1 (4eb161250 2025-03-15)" data-channel="1.85.1" data-search-js="search-75f5ac3e.js" data-settings-js="settings-0f613d39.js" ><script src="../../static.files/storage-59e33391.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../static.files/main-5f194d8c.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-893ab5e7.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-6580c154.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-044be391.svg"></head><body class="rustdoc trait"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../sl_dkls23/index.html">sl_<wbr>dkls23</a><span class="version">1.0.0-beta</span></h2></div><div class="sidebar-elems"><section id="rustdoc-toc"><h2 class="location"><a href="#">Encryption<wbr>Scheme</a></h2><h3><a href="#">Sections</a></h3><ul class="block top-toc"><li><a href="#security-considerations" title="Security Considerations">Security Considerations</a></li></ul><h3><a href="#required-methods">Required Methods</a></h3><ul class="block"><li><a href="#tymethod.decrypt" title="decrypt">decrypt</a></li><li><a href="#tymethod.encrypt" title="encrypt">encrypt</a></li><li><a href="#tymethod.overhead" title="overhead">overhead</a></li><li><a href="#tymethod.public_key" title="public_key">public_key</a></li><li><a href="#tymethod.receiver_public_key" title="receiver_public_key">receiver_public_key</a></li></ul><h3><a href="#implementors">Implementors</a></h3></section><div id="rustdoc-modnav"><h2><a href="index.html">In sl_<wbr>dkls23::<wbr>proto</a></h2></div></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><span class="rustdoc-breadcrumbs"><a href="../index.html">sl_dkls23</a>::<wbr><a href="index.html">proto</a></span><h1>Trait <span class="trait">EncryptionScheme</span><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../../src/sl_dkls23/proto/scheme.rs.html#76-182">Source</a> </span></div><pre class="rust item-decl"><code>pub trait EncryptionScheme: <a class="trait" href="https://doc.rust-lang.org/1.85.1/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> {
    // Required methods
    fn <a href="#tymethod.public_key" class="fn">public_key</a>(&amp;self) -&gt; &amp;[<a class="primitive" href="https://doc.rust-lang.org/1.85.1/std/primitive.u8.html">u8</a>] <a href="#" class="tooltip" data-notable-ty="&amp;[u8]">ⓘ</a>;
<span class="item-spacer"></span>    fn <a href="#tymethod.receiver_public_key" class="fn">receiver_public_key</a>(
        &amp;mut self,
        receiver_index: <a class="primitive" href="https://doc.rust-lang.org/1.85.1/std/primitive.usize.html">usize</a>,
        public_key: &amp;[<a class="primitive" href="https://doc.rust-lang.org/1.85.1/std/primitive.u8.html">u8</a>],
    ) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.85.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.85.1/std/primitive.unit.html">()</a>, PublicKeyError&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.encrypt" class="fn">encrypt</a>(
        &amp;mut self,
        associated_data: &amp;[<a class="primitive" href="https://doc.rust-lang.org/1.85.1/std/primitive.u8.html">u8</a>],
        buffer: &amp;mut [<a class="primitive" href="https://doc.rust-lang.org/1.85.1/std/primitive.u8.html">u8</a>],
        tail: &amp;mut [<a class="primitive" href="https://doc.rust-lang.org/1.85.1/std/primitive.u8.html">u8</a>],
        receive: <a class="primitive" href="https://doc.rust-lang.org/1.85.1/std/primitive.usize.html">usize</a>,
    ) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.85.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.85.1/std/primitive.unit.html">()</a>, EncryptionError&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.decrypt" class="fn">decrypt</a>(
        &amp;self,
        associated_data: &amp;[<a class="primitive" href="https://doc.rust-lang.org/1.85.1/std/primitive.u8.html">u8</a>],
        buffer: &amp;mut [<a class="primitive" href="https://doc.rust-lang.org/1.85.1/std/primitive.u8.html">u8</a>],
        tail: &amp;[<a class="primitive" href="https://doc.rust-lang.org/1.85.1/std/primitive.u8.html">u8</a>],
        sender: <a class="primitive" href="https://doc.rust-lang.org/1.85.1/std/primitive.usize.html">usize</a>,
    ) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.85.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.85.1/std/primitive.unit.html">()</a>, EncryptionError&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.overhead" class="fn">overhead</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.85.1/std/primitive.usize.html">usize</a>;
}</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Represents an encryption scheme interface for in-place AEAD and
managing key exchange.</p>
<p>A type implementing EncryptionScheme encapsulates two
functionalities:</p>
<ul>
<li>
<p>An AEAD algorithm such as ChaCha20 or AES-GCM and its
implementation details, such as nonce generation.</p>
</li>
<li>
<p>The derivation of encryption keys for one or more pairs of parties.
The concrete type of public/private key pair and key exchange is
an implementation detail.</p>
</li>
</ul>
<h2 id="security-considerations"><a class="doc-anchor" href="#security-considerations">§</a>Security Considerations</h2>
<p>Implementations must ensure:</p>
<ul>
<li>Forward secrecy through proper key exchange</li>
<li>Nonce uniqueness for each encryption</li>
<li>Secure key derivation</li>
<li>Proper authentication of messages</li>
</ul>
</div></details><h2 id="required-methods" class="section-header">Required Methods<a href="#required-methods" class="anchor">§</a></h2><div class="methods"><details class="toggle method-toggle" open><summary><section id="tymethod.public_key" class="method"><a class="src rightside" href="../../src/sl_dkls23/proto/scheme.rs.html#78">Source</a><h4 class="code-header">fn <a href="#tymethod.public_key" class="fn">public_key</a>(&amp;self) -&gt; &amp;[<a class="primitive" href="https://doc.rust-lang.org/1.85.1/std/primitive.u8.html">u8</a>] <a href="#" class="tooltip" data-notable-ty="&amp;[u8]">ⓘ</a></h4></section></summary><div class="docblock"><p>Return external representation of own public key</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.receiver_public_key" class="method"><a class="src rightside" href="../../src/sl_dkls23/proto/scheme.rs.html#102-106">Source</a><h4 class="code-header">fn <a href="#tymethod.receiver_public_key" class="fn">receiver_public_key</a>(
    &amp;mut self,
    receiver_index: <a class="primitive" href="https://doc.rust-lang.org/1.85.1/std/primitive.usize.html">usize</a>,
    public_key: &amp;[<a class="primitive" href="https://doc.rust-lang.org/1.85.1/std/primitive.u8.html">u8</a>],
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.85.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.85.1/std/primitive.unit.html">()</a>, PublicKeyError&gt;</h4></section></summary><div class="docblock"><p>Sets or updates the public key for a specified receiver index.</p>
<p>This function is used to associate a public key with a designated
receiver identified by an index. It facilitates secure communication
setup by ensuring that messages can be encrypted such that only the
receiver with the corresponding private key can decrypt them.</p>
<h5 id="parameters"><a class="doc-anchor" href="#parameters">§</a>Parameters</h5>
<ul>
<li>
<p><code>receiver_index</code>: An integer value that uniquely identifies the
receiver within the system. This index is used to specify which
receiver the public key is associated with.</p>
</li>
<li>
<p><code>public_key</code>: A byte slice representing the public key of the receiver.
This key is used in cryptographic operations to ensure that only
the intended receiver can decrypt messages encrypted with this key.</p>
</li>
</ul>
<h5 id="errors"><a class="doc-anchor" href="#errors">§</a>Errors</h5>
<ul>
<li><code>PublicKeyError</code>: An error is returned if the public key cannot be
set due to invalid formatting, an invalid receiver index, or any
other issue encountered in the operation.</li>
</ul>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.encrypt" class="method"><a class="src rightside" href="../../src/sl_dkls23/proto/scheme.rs.html#136-142">Source</a><h4 class="code-header">fn <a href="#tymethod.encrypt" class="fn">encrypt</a>(
    &amp;mut self,
    associated_data: &amp;[<a class="primitive" href="https://doc.rust-lang.org/1.85.1/std/primitive.u8.html">u8</a>],
    buffer: &amp;mut [<a class="primitive" href="https://doc.rust-lang.org/1.85.1/std/primitive.u8.html">u8</a>],
    tail: &amp;mut [<a class="primitive" href="https://doc.rust-lang.org/1.85.1/std/primitive.u8.html">u8</a>],
    receive: <a class="primitive" href="https://doc.rust-lang.org/1.85.1/std/primitive.usize.html">usize</a>,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.85.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.85.1/std/primitive.unit.html">()</a>, EncryptionError&gt;</h4></section></summary><div class="docblock"><p>Encrypts the provided data buffer using associated data and
manages an associated tail segment.</p>
<h5 id="parameters-1"><a class="doc-anchor" href="#parameters-1">§</a>Parameters</h5>
<ul>
<li>
<p><code>associated_data</code>: A byte slice containing additional
authenticated data (AAD) that will be used to ensure the
integrity and authenticity of the encrypted data. This data is
not encrypted but is included in the integrity check.</p>
</li>
<li>
<p><code>buffer</code>: A mutable byte slice containing the plaintext data
that will be encrypted in place. Upon successful encryption,
this buffer will contain the ciphertext data.</p>
</li>
<li>
<p><code>tail</code>: A mutable byte slice representing the trailing
segment of the data buffer that may be used to store for
trailing portion of the data that should be considered during
decryption.</p>
</li>
<li>
<p><code>receive</code>: An index or identifier associated with the
receiver of the message. This may be used for deriving
encryption keys.</p>
</li>
</ul>
<h5 id="errors-1"><a class="doc-anchor" href="#errors-1">§</a>Errors</h5>
<p><code>EncryptionError</code> if issues arise such as missing keys,
incorrect buffer lengths, or any other problems during the
encryption process.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.decrypt" class="method"><a class="src rightside" href="../../src/sl_dkls23/proto/scheme.rs.html#172-178">Source</a><h4 class="code-header">fn <a href="#tymethod.decrypt" class="fn">decrypt</a>(
    &amp;self,
    associated_data: &amp;[<a class="primitive" href="https://doc.rust-lang.org/1.85.1/std/primitive.u8.html">u8</a>],
    buffer: &amp;mut [<a class="primitive" href="https://doc.rust-lang.org/1.85.1/std/primitive.u8.html">u8</a>],
    tail: &amp;[<a class="primitive" href="https://doc.rust-lang.org/1.85.1/std/primitive.u8.html">u8</a>],
    sender: <a class="primitive" href="https://doc.rust-lang.org/1.85.1/std/primitive.usize.html">usize</a>,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.85.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.85.1/std/primitive.unit.html">()</a>, EncryptionError&gt;</h4></section></summary><div class="docblock"><p>Decrypts the provided data buffer using associated data and a
tail segment.</p>
<h5 id="parameters-2"><a class="doc-anchor" href="#parameters-2">§</a>Parameters</h5>
<ul>
<li>
<p><code>associated_data</code>: A byte slice containing additional
authenticated data (AAD) that will be used along with the
buffer to ensure the integrity and authenticity of the
decryption process.</p>
</li>
<li>
<p><code>buffer</code>: A mutable byte slice holding the encrypted data
that will be decrypted in place. Upon successful decryption,
this buffer will contain the plaintext data.</p>
</li>
<li>
<p><code>tail</code>: A byte slice representing the trailing portion of
the data that should be considered during decryption. This is
typically used nonce and/or authentication tag.</p>
</li>
<li>
<p><code>sender</code>: An index or identifier representing the sender of
the message. This might be used to retrieve or derive
encryption keys.</p>
</li>
</ul>
<h5 id="errors-2"><a class="doc-anchor" href="#errors-2">§</a>Errors</h5>
<ul>
<li><code>EncryptionError</code>: This function may return an
<code>EncryptionError</code> in several situations such as when the
decryption key is not found, when the input data is tampered
with or if the cryptographic verification of the AAD fails.</li>
</ul>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.overhead" class="method"><a class="src rightside" href="../../src/sl_dkls23/proto/scheme.rs.html#181">Source</a><h4 class="code-header">fn <a href="#tymethod.overhead" class="fn">overhead</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.85.1/std/primitive.usize.html">usize</a></h4></section></summary><div class="docblock"><p>Return size of trailing segment. See method <code>encrypt()</code> and <code>decrypt()</code>.</p>
</div></details></div><h2 id="implementors" class="section-header">Implementors<a href="#implementors" class="anchor">§</a></h2><div id="implementors-list"></div><script src="../../trait.impl/sl_dkls23/proto/scheme/trait.EncryptionScheme.js" async></script><script type="text/json" id="notable-traits-data">{"&[u8]":"<h3>Notable traits for <code>&amp;[<a class=\"primitive\" href=\"https://doc.rust-lang.org/1.85.1/std/primitive.u8.html\">u8</a>]</code></h3><pre><code><div class=\"where\">impl <a class=\"trait\" href=\"https://doc.rust-lang.org/1.85.1/std/io/trait.Read.html\" title=\"trait std::io::Read\">Read</a> for &amp;[<a class=\"primitive\" href=\"https://doc.rust-lang.org/1.85.1/std/primitive.u8.html\">u8</a>]</div>"}</script></section></div></main></body></html>